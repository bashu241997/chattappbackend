{"version":3,"file":"users.js","names":["users","exports","adduser","id","name","room","trim","toLowerCase","existingUser","find","user","error","push","removeuser","index","findIndex","splice","getuser","getusersinroom","filter"],"sources":["../src/users.js"],"sourcesContent":["const users = [];\r\n\r\n exports.adduser=({ id, name, room }) => {\r\n  name = name.trim().toLowerCase();\r\n  room = room.trim().toLowerCase();\r\n\r\n  const existingUser = users.find((user) => user.room === room && user.name === name);\r\n\r\n  if(!name || !room) return { error: 'Username and room are required.' };\r\n  if(existingUser) return { error: 'Username is taken.' };\r\n\r\n  const user = { id, name, room };\r\n\r\n  users.push(user);\r\n\r\n  return { user };\r\n}\r\n\r\n  exports.removeuser= (id) =>{\r\n    const index = users.findIndex((user) => user.id===id)\r\n    if(index !== -1)\r\n        return users.splice(index , 1)[0];\r\n}\r\n\r\nexports.getuser= (id) => users.find((user) => user.id === id );\r\n\r\nexports.getusersinroom= (room) => users.filter((user)=> user.room ===  room);\r\n"],"mappings":";;AAAA,MAAMA,KAAK,GAAG,EAAE;AAEfC,OAAO,CAACC,OAAO,GAAC,CAAC;EAAEC,EAAE;EAAEC,IAAI;EAAEC;AAAK,CAAC,KAAK;EACvCD,IAAI,GAAGA,IAAI,CAACE,IAAI,EAAE,CAACC,WAAW,EAAE;EAChCF,IAAI,GAAGA,IAAI,CAACC,IAAI,EAAE,CAACC,WAAW,EAAE;EAEhC,MAAMC,YAAY,GAAGR,KAAK,CAACS,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACL,IAAI,KAAKA,IAAI,IAAIK,IAAI,CAACN,IAAI,KAAKA,IAAI,CAAC;EAEnF,IAAG,CAACA,IAAI,IAAI,CAACC,IAAI,EAAE,OAAO;IAAEM,KAAK,EAAE;EAAkC,CAAC;EACtE,IAAGH,YAAY,EAAE,OAAO;IAAEG,KAAK,EAAE;EAAqB,CAAC;EAEvD,MAAMD,IAAI,GAAG;IAAEP,EAAE;IAAEC,IAAI;IAAEC;EAAK,CAAC;EAE/BL,KAAK,CAACY,IAAI,CAACF,IAAI,CAAC;EAEhB,OAAO;IAAEA;EAAK,CAAC;AACjB,CAAC;AAECT,OAAO,CAACY,UAAU,GAAGV,EAAE,IAAI;EACzB,MAAMW,KAAK,GAAGd,KAAK,CAACe,SAAS,CAAEL,IAAI,IAAKA,IAAI,CAACP,EAAE,KAAGA,EAAE,CAAC;EACrD,IAAGW,KAAK,KAAK,CAAC,CAAC,EACX,OAAOd,KAAK,CAACgB,MAAM,CAACF,KAAK,EAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACzC,CAAC;AAEDb,OAAO,CAACgB,OAAO,GAAGd,EAAE,IAAKH,KAAK,CAACS,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACP,EAAE,KAAKA,EAAE,CAAE;AAE9DF,OAAO,CAACiB,cAAc,GAAGb,IAAI,IAAKL,KAAK,CAACmB,MAAM,CAAET,IAAI,IAAIA,IAAI,CAACL,IAAI,KAAMA,IAAI,CAAC"}